# Information Gathering

1. [Websites](#1-websites)
  * [Netcraft](#netcraft)
  * [Whois](#whois)
  * [Nslookup](#nslookup)
  * [Host](#host)
  * [TheHarvester](#theharvester)
  * [Maltego](#maltego)
2. [Port scanning](#2-port-scanning)
  * [Netcat](#netcat)
  * [Nmap](#nmap)

________________________________
## 1) WEBSITES

### Netcraft
Information about underlying softwares
<https://searchdns.netcraft.com/>

### Whois Lookup
Information about owner
```bash
whois maarti.net
```

### Nslookup
IP adress :
```bash
nslookup maarti.net
```
Mail server :
```bash
nslookup
set type=mx
maarti.net
```

### Host
Get name servers of a domain
```bash
host -t ns zoneedit.com
```

### TheHarvester
Searching for email adresses, hosts/subdomains, virtual hosts (same IP)
```bash
theharvester -d maarti.net -l 500 -b all
```

### Maltego (Community Edition)
OSINT gathering graph
* Type : `maltegoce`
* open a blank [...]
* drag & drop a "domain" or "website"...
* right clic / transforms

________________________________________________
## 2) PORT SCANNING

### Netcat
Connect to a port (ex : 25=STMP) and grabbing the banner
```bash
nc -vv 192.168.0.14 25
```

### Nmap
**SYN Scan (TCP) :** Send the SYN but never the ACK, so the connetion is never established (stealthy)
![NMAP](https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Tcp_normal.svg/1200px-Tcp_normal.svg.png)
```bash
nmap -sS 192.168.0.47
```

**Version scan (TCP) :** attempts to determine what software is running and the version (via banner grabbing, ...)
```bash
nmap -sV 192.168.0.47
```

Output to files :
```bash
# -oA : output to 3 files : normal, grepable and xml
nmap -sV 192.168.0.47 -oA myscan
```

**UDP scan :** UDP packet is sent to a port. The packet is protocole specific, depending of the port.
* Response received = port open
* ICMP port unreachable = port closed
* No response = program not responding or traffic filtered
```bash
nmap -sU 192.168.0.47
```

Add `-p` to scan a specific port : `nmap -sS -p 3232 192.168.0.47`.

By default, nmap only scans the 1000 most interesting ports. To scan all the port range, use `-p1-65535`.

*Agressively scanning a port (with a version scan) may crash the scanned service if it is not coded to accept anything other than expected input.*

 

